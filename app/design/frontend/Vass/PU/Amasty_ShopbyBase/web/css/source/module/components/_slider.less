//
//  Shop by Base Slider
//  ______________________________________________

//
//  Imports
//  ----------------------------------------------

@import '../../module/_mixins';

//
//  Variables
//  ----------------------------------------------

@ambrands-slider-arrow__color: #1979c2;
@ambrands-slider-arrow__hover__color: #006bb4;
@ambrands-slider-arrow__active__color: #95b5d7;
@ambrands-slider-arrow__disabled__color: #ececec;

@ambrands-slider-arrow__next__background-image: false;
@ambrands-slider-arrow__prev__background-image: false;
@ambrands-slider-arrow__size: 40px;
@ambrands-slider-title__color: @color-gray-dark2;
@ambrands-slider-bullet__color: @color-gray-dark2;
@ambrands-slider-bullet__active__color: @primary-black;
@ambrands-slider-bullet__size: 4px;

//
//  Common
//  ----------------------------------------------

& when (@media-common = true) {
    .amslider * {
        margin: 0;
        padding: 0;
    }

    .amslider {
        & {
            position: relative;
            margin: 0 auto;
        }

        .swiper-pagination {
            position: static;
        }

        .swiper-container > .wrapper {
            text-align: center;
        }

        .swiper-slide .ambrands-label {
            &:extend(.ambase-word-break all);

            margin-top: 10px;
            min-height: 40px;
            color: @ambrands-slider-title__color;
            font-weight: 600;
            font-size: 14px;
            line-height: 19px;
        }

        .swiper-pagination-bullet {
            margin: 0 @ambrands-slider-bullet__size;
            width: @ambrands-slider-bullet__size;
            height: @ambrands-slider-bullet__size;
            background: @ambrands-slider-bullet__color;
        }

        .swiper-pagination-bullet-active {
            width: 6px;
            height: 6px;
            background-color: @ambrands-slider-bullet__active__color;
        }

        .swiper-slide {
            text-align: center;
            font-size: 18px;
        }

        .category-item .category-item-title {
            margin: auto;
        }

        .slide .category-item-title,
        .swiper-slide .swiper-category-item {
            &:extend(.ambase-word-break all);

            font-size: 15px;
            line-height: 1.2;
        }

        .wrapper {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        .ambrands-empty {
            margin: auto;
        }
    }

    // Override slider styles
    .amslider .swiper-button-next,
    .amslider .swiper-button-prev {
        & {
            top: ~'calc(50% - (@{ambrands-slider-arrow__size} / 2))';
            z-index: 2;
            margin-top: 0;
            width: @ambrands-slider-arrow__size;
            height: @ambrands-slider-arrow__size;
            border: none;
            border-radius: 50%;
            background-color: @ambrands-slider-arrow__color;
            background-position: center;
            background-size: @ambrands-slider-arrow__size / 2;
            background-repeat: no-repeat;
            box-shadow: none;
        }

        &:hover {
            background-color: @ambrands-slider-arrow__hover__color;
        }

        &:after {
            content: '';
        }

        &:active {
            background-color: @ambrands-slider-arrow__active__color;
        }

        &.swiper-button-disabled {
            background-color: @ambrands-slider-arrow__disabled__color;
            opacity: 1;
        }
    }

    .amslider {
        .swiper-button-next {
            right: -@ambrands-slider-arrow__size;
            background-image: @ambrands-slider-arrow__next__background-image;
        }

        .swiper-button-prev {
            left: -@ambrands-slider-arrow__size;
            background-image: @ambrands-slider-arrow__prev__background-image;
        }
    }

    // END Override slider styles

    .amslider-header-container {
        text-align: center;
        font-family: @font-family__secondary;
        .lib-font-size(36);
        margin: 0 0 40px 0;
    }

    .children-category .amslider {
        position: relative;
        left: inherit;
        display: block;
        margin: 0 50px;
        width: 100%;
        transform: inherit;
    }

    .amslider.ambrands-slider {
        & {
            margin-top: 0;
            padding: 0;
            max-width: 100% !important; // Override styles Amasty Js
        }

        .ambrands-inner {
            position: relative;
            padding-bottom: 0;
        }

        .ambrands-swiper-brand {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            width: 160px;
        }

        .ambrands-image-block {
            & {
                .am-flex(center, center);

                flex-grow: 1;
                margin: 0 auto;
            }

            .ambrands-image {
                max-width: 100%;
                max-height: 100%;
                width: auto;
            }
        }

        .slide {
            & {
                align-items: stretch;
            }

            .ambrands-image-block {
                overflow: hidden;
                margin-bottom: 10px;
            }
        }

        // Override slider styles
        .swiper-slide {
            display: flex;
            align-items: stretch;
            padding: 0;
            height: auto;
        }

        // END Override slider styles
    }

    .amslider .slide {
        & {
            display: flex;
            align-items: flex-start;
            flex-basis: 30%;
            justify-content: center;
            margin: 0 9px 20px 0;
            max-width: 30%;
            color: @ambrands-slider-title__color;
            text-align: center;
        }

        .category-item {
            position: relative;
            padding: 10px;
            width: 100%;
            border: 1px solid #fff;
        }

        .category-item:hover,
        .category-item.active {
            position: relative;
            z-index: 2;
            padding: 10px;
            border-color: #bbb;
            box-shadow: 3px 3px 4px 0 rgba(0, 0, 0, .3);
        }

        .category-item.category-item-label img {
            margin-bottom: 25px;
        }

        .ambrands-swiper-brand .ambrands-image {
            height: auto;
        }
    }

    // Override slider styles
    .children-category-container {
        &.swiper-container {
            margin: auto;
            width: ~'calc(100% - 2 * @{ambrands-slider-arrow__size})';
        }

        .swiper-wrapper {
            align-items: baseline;
        }
    }

    // END Override slider styles

    .amslider .swiper-slide {
        & {
            box-sizing: border-box;
            padding: 10px;
            color: @ambrands-slider-title__color;
        }

        .swiper-category-item {
            padding: 10px 0;
            border: 1px solid #fff;
        }

        .swiper-category-item img {
            height: auto;
        }

        .swiper-category-item.category-item-label img {
            margin-bottom: 25px;
        }

        .swiper-category-item:hover,
        .swiper-category-item.active {
            margin: 0;
            border: 1px solid #bbb;
            background: #fff;
            box-shadow: 3px 3px 4px 0 rgba(0, 0, 0, .3);
        }

        .ambrands-swiper-brand .ambrands-empty {
            display: inline-block;
            margin: 0 auto;
            color: #e2e2e2;
        }
    }

    .amslider .swiper-slide:hover,
    .amslider .slide:hover {
        text-decoration: none;
    }

    // Override slider styles
    #category-carousel {
        .swiper-button-next {
            right: 0;
        }

        .swiper-button-prev {
            left: 0;
        }

        .swiper-button-next,
        .swiper-button-prev {
            top: 50%;
            margin: 0;
            transform: translateY(-50%);
        }

        .swiper-button-next:hover,
        .swiper-button-prev:hover {
            opacity: 1;
            transition: all .3s ease;
        }
    }

    // END Override slider styles

    .ambrands-slider-container {
        max-width: @layout__max-width;
        margin: 0 auto;
        padding: 80px 120px;
    }

    .swiper-pagination {
        display: none;
    }

    .amslider .swiper-slide .swiper-category-item:not(:root:root),
    .amslider .swiper-slide .ambrands-swiper-brand:not(:root:root),
    .amslider .slide .category-item:not(:root:root) {
        padding: 0;
    }

    //IE percentage max-width of flex element bug fix
    @media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {
        .ambrands-swiper-brand {
            width: 100%;
        }

        .ambrands-swiper-brand .ambrands-empty {
            width: 100%;
        }
    }
}

//
//  Desktop
//  ----------------------------------------------

.media-width(@extremum, @break) when (@extremum = 'min') and (@break = @screen__l) {
    .amslider .slide {
        flex-basis: auto;
        margin: 0 20px 20px 0;
        max-width: 32%;
    }
}

//
//  Desktop +
//  ----------------------------------------------

.media-width(@extremum, @break) when (@extremum = 'min') and (@break = @screen__xl) {
    .amslider .wrapper {
        justify-content: center;
    }
}


//
//  Mobile
//  ----------------------------------------------

.media-width(@extremum, @break) when (@extremum = 'max') and (@break = @screen__m) {
    .ambrands-slider-container {
        padding: 32px 24px;

        .amslider-header-container {
            margin: 0 0 24px 0;
            .lib-font-size(@font-size__xl);
        }
    }


    .swiper-pagination {
        display: block;
        margin: 0;
    }
}

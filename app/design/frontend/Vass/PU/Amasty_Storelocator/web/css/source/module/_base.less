/**
 * @copyright Copyright (c) 2024 VASS
 * @author VASS Team
 */

//
//  Store Locator
//  ____________________________________________

//
//  Common
//  ----------------------------------------------

& when (@media-common = true) {

    .banner-store-locator {
        margin-bottom: @indent__base;
        min-height: 245px;

        .pagebuilder-column-line {
            gap: 0;
        }

        .banner-store-locator__img {
            min-height: auto;
            box-shadow: inset 0px -10px 20px 6px @color-beige-dark;
            width: 100%;
            min-height: 125px;
        }

        .banner-store-locator__title {
            margin: 0;
            margin-left: @indent__m;
            .lib-font-size(@font-size__xl);
        }
    }

    .amlocator-main-container {
        & {
            text-align: left;
            .lib-font-size(@font-size__m);
            color: @secondary-black;
            min-width: 50vw;
        }

        .amlocator-wrapper {
            .amlocator-schedule-container {
                strong {
                    margin-top: 0;
                    margin-bottom: 0;
                    line-height: 1.42857143;
                }
            }
        }
    }

    .amlocator-current-location {
        .amlocator-search {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 23px;
            height: 23px;
            .lib-css(background, @amlocator-search-button__background);
            background-size: contain;
            cursor: pointer;
        }

        .amlocator-wrapper {
            position: relative;
            -webkit-box-flex: 1;
            -ms-flex: 1;
            flex: 1;
            margin-top: 5px;
        }

        .amlocator-text {
            box-sizing: border-box;
            width: 100%;
            height: 40px;
            padding-right: 40px;
            border: 1px solid #d7d7d7;
            border-radius: 2px;
        }

        .amlocator-text:focus {
            border: 1px solid #1979c3;
            box-shadow: none;
        }

        .amlocator-text:focus + .amlocator-search,
        .amlocator-search:hover {
            .lib-css(background, @amlocator-search-button__focus__background);
            background-size: contain;
        }

        .amlocator-reset {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 22px;
            height: 22px;
            background: @amlocator-reset-icon__background no-repeat center;
            cursor: pointer;
        }

        .amlocator-search.-hidden,
        .amlocator-reset.-hidden {
            display: none;
        }
    }

    .amlocator-search-radius {
        .amlocator-radio {
            position: absolute;
            width: 0;
            height: 0;
            margin: 0;
            opacity: 0;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        .amlocator-radio:checked + .amlocator-label {
            color: #fff;
            background: #1979c3;
            box-shadow: 0 2px 4px rgba(45, 147, 226, 0.1);
        }

        .amlocator-radio:focus + .amlocator-label {
            box-shadow: 0 0 3px 1px #00699d;
        }

        .amlocator-wrapper {
            position: relative;
            .lib-vendor-prefix-display(flex);
            -webkit-box-flex: 1;
            -ms-flex: 1;
            flex: 1;
            .lib-vendor-prefix-flex-wrap(wrap);
            .lib-vendor-box-align(flex-end);
        }

        .amlocator-select {
            min-width: 215px;
        }
    }

    .amlocator-range-slider {
        & {
            width: 100%;
            height: 10px;
            background: #deedf8;
            border-radius: 10px;
            cursor: pointer;
        }

        .ui-slider-range {
            height: 100%;
            background: #1979c3;
            border-top-left-radius: 12px;
            border-bottom-left-radius: 12px;
        }

        .amlocator-handle {
            position: absolute;
            top: 50%;
            width: 14px;
            height: 14px;
            margin: 0;
            margin-left: -7px;
            background: #1979c3;
            border-radius: 12px;
            box-shadow: 0 2px 3px rgba(20, 72, 112, 0.5);
            transform: translateY(-50%);
            cursor: pointer;
        }

        .amlocator-handle:hover,
        .amlocator-handle:focus,
        .amlocator-handle:active {
            background: #4da1e2;
        }

        .amlocator-tooltip {
            position: absolute;
            top: -7px;
            left: 50%;
            padding: 2px 5px;
            font-size: 12px;
            color: #fff;
            white-space: nowrap;
            background: #1979c3;
            border-radius: 2px;
            transform: translate(-50%, -100%);
        }

        .amlocator-tooltip:after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 6px;
            height: 6px;
            background: #1979c3;
            transform: translate(-50%, 50%) rotate(45deg);
        }
    }

    .amlocator-filters-container {
        & {
            margin-bottom: 10px;
            background: #f8f8f8;
        }

        .amlocator-title {
            .lib-vendor-prefix-display(flex);
            .lib-vendor-box-align(center);
            padding: 5px 15px;
            font-weight: 600;
            font-size: 16px;
            color: @secondary-black;
            cursor: pointer;
        }

        .amlocator-content {
            transition: all .3s ease;
        }

        .amlocator-hidden-filter {
            display: none;
        }

        .amlocator-actions {
            .lib-vendor-prefix-display(flex);
            .lib-vendor-prefix-flex-wrap(wrap);
            -webkit-box-pack: end;
            -ms-flex-pack: end;
            justify-content: flex-end;
            .lib-vendor-box-align(center);
            padding: 5px 15px;
            font-size: 12px;
        }

        .amlocator-clear {
            color: #1979c3;
            cursor: pointer;
        }

        .amlocator-button {
            min-height: 25px;
            margin-left: 25px;
            padding: 0px 20px;
            border: none;
            line-height: unset;
            box-shadow: none;
        }

        .amlocator-button:hover {
            color: #fff;
            background: #1979c3b3;
            border: none;
        }
    }

    .amlocator-attribute-wrapper {
        & {
            .lib-vendor-prefix-display(flex);
            .lib-vendor-prefix-flex-wrap(wrap);
            .lib-vendor-box-align(center);
            padding: 8px 15px;
        }

        &:nth-of-type(even) {
            background: #e7e7e7;
        }

        .amlocator-label {
            box-sizing: border-box;
            width: 40%;
            padding-right: 5px;
            word-wrap: break-word;
        }

        .amlocator-input {
            .lib-vendor-prefix-flex-grow(1);
            width: 60%;
        }

        .amlocator-input .chosen-container {
            width: 100%!important;
        }

        .amlocator-select,
        .chosen-choices {
            height: inherit;
            max-height: 80px;
            padding: 9px 25px 9px 10px;
            line-height: 1;
            border-color: #ccc;
        }

        //overwriting Chosen styles
        .chosen-container {
            height: inherit;
            font-size: inherit;
        }

        .chosen-container .chosen-choices {
            height: inherit;
            min-height: 35px;
            overflow: auto;
            padding: 5px;
        }

        .chosen-container .chosen-results li.highlighted {
            background: #1979c3;
        }

        .chosen-container-multi .chosen-choices li.search-choice .search-choice-close {
            top: 50%;
            right: 0;
            width: 8px;
            height: 8px;
            margin: 0 5px 0 0;
            .lib-css(background, @amlocator-close-icon__background) !important;
            background-size: contain !important;
            transform: translateY(-50%);
        }

        .chosen-container-multi .chosen-choices li.search-choice .search-choice-close:hover {
            background-position: initial;
        }

        .chosen-container-multi .chosen-choices li.search-field input[type=text] {
            height: inherit;
            margin: 3px 0;
        }

        .chosen-container-multi .chosen-choices li.search-choice {
            margin: 0 5px 0 0;
            padding: 5px 18px 5px 5px;
            color: #fff;
            background: #1979c3;
            border: none;
            box-shadow: none;
        }
    }

    .amlocator-map-container {
        & {
            .lib-vendor-prefix-display(flex);
            flex-direction: column;
            .lib-vendor-prefix-flex-wrap(wrap);
        }

        > .amlocator-block {
            width: 100%;
        }

        .amlocator-map {
            margin: @indent__l 0;
            width: 100%;
            height: 304px;
        }
    }

    .amlocator-arrow {
        & {
            position: relative;
            display: inline-block;
            width: 14px;
            min-width: 14px;
            height: 8px;
            margin-left: auto;
        }

        &:before,
        &:after {
            content: "";
            position: absolute;
            top: 3px;
            display: inline-block;
            width: 9px;
            height: 2px;
            background-color: #363636;
            transition: all .2s ease;
        }

        &:before {
            left: 0;
        }

        &:after {
            right: 0;
        }

        &:after,
        &.-down:before {
            transform: rotate(45deg);
        }

        &:before,
        &.-down:after {
            transform: rotate(-45deg);
        }
    }


    .amlocator-store-list {
        & {
            order: 1;
            overflow: auto;
        }

        .amlocator-wrapper {
            .lib-vendor-prefix-display(flex);
            flex-direction: column;
            height: 100%;
            max-height: 910px;
        }
    }

    .amlocator-stores-wrapper {
        margin-bottom: 10px;
    }

    .amlocator-store-desc {
        & {
            display: block;
            margin-bottom: 52px;
            overflow: auto;
            .lib-font-size(@font-size__m);
            line-height: 22px;
            background: @primary-white;
            cursor: pointer;
        }

        &:not(:first-of-type) {
            margin-top: 15px;
        }

        .amlocator-title {
            margin-bottom: @indent__m;
            font-weight: bold;
            font-size: 16px;
        }

        .amlocator-title .amlocator-link {
            .lib-font-size(@font-size__l);
            font-weight: @font-weight__bold;
            word-break: break-all;
            word-wrap: break-word;
            color: @secondary-black;
            text-decoration: none;
        }

        .amlocator-block {
            .lib-vendor-prefix-display(flex);
            padding: @indent__m;
        }

        .amlocator-image {
            width: 150px;
            min-width: 150px;
            height: 150px;
            margin-right: 15px;
            background-position: center;
            background-size: cover;
        }
    }

    .amlocator-store-desc.-active {
        & {
            color: #fff;
            background: #1979c3;
        }

        .amlocator-title .amlocator-link {
            color: #fff;
        }

        .amlocator-today {
            color: @secondary-black;
            background: #9dd4ff;
        }
    }

    .amlocator-description {
        word-break: break-word;
    }

    .amlocator-schedule-container {
        .amlocator-today {
            position: relative;
            .lib-vendor-prefix-display(flex);
            -webkit-box-pack: justify;
            -ms-flex-pack: justify;
            justify-content: space-between;
            padding: @indent__s @indent__s @indent__s 40px;
            background: @color-gray-light1;
        }

        .amlocator-today:before {
            content: @icon-clock;
            font-family: @icons__font-name;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            left: 10px;
            width: 20px;
            height: 20px;
        }

        .amlocator-today .amlocator-time {
            .lib-vendor-prefix-display(flex);
            white-space: nowrap;
        }

        .amlocator-arrow {
            margin: 6px 0 0 15px;
        }

        .amlocator-week {
            display: none;
            margin: 0 20px;
        }
    }

    .amlocator-schedule-table {
        .amlocator-row {
            .lib-vendor-prefix-display(flex);
            .lib-vendor-prefix-flex-wrap(wrap);
            margin-bottom: 15px;
        }

        .amlocator-cell {
            width: 50%;
            box-sizing: border-box;
        }

        .amlocator-cell.-day {
            padding-left: 15px;
        }

        .amlocator-cell.-time {
            white-space: nowrap;
            text-align: right;
            padding-right: 8%;
        }
    }

    //magento pagination styles
    .amlocator-pager-container {
        & {
            margin-top: auto;
        }

        .pages {
            text-align: right;
        }

        .items {
            padding: 0;
        }

        .pages .page {
            padding: 8px 10px;
            font-weight: normal;
            line-height: 1;
            color: @secondary-black;
            background: #f8f8f8;
        }

        .pages a.page {
            color: @secondary-black;
        }

        .pages .item {
            position: relative;
            margin: 0;
        }

        .pages .item:not(:last-of-type) {
            margin-right: 10px;
        }

        .pages .current .page,
        .pages .page:hover {
            color: #fff;
            background: #1979c3;
        }

        .pages a.action {
            margin: 0;
            background: #f8f8f8;
            border: none;
            border-radius: 0;
            box-shadow: none;
        }

        .pages a.action:hover {
            background: #1979c3;
        }

        .pages .items a.action:before {
            font-size: 14px;
            color: @secondary-black;
        }

        .pages .items a.action:hover:before {
            color: #fff;
        }
    }

    .amlocator-map .amlocator-image img {
        max-width: 150px;
    }

    .amlocator-info-popup {
        width: 250px;
        .lib-font-size(@font-size__m);
        line-height: 22px;

        .amlocator-link {
            text-decoration: none;
            .lib-font-size(@font-size__xl);
            font-weight: @font-weight__heavier;
        }

        .amlocator-name {
            margin-top: 5px;
        }

        .amlocator-image {
            display: block;
            clear: both;
            width: 100px;
            margin-bottom: 10px;
        }
    }

    .amlocator-index-index {
        overflow-x: hidden;
    }
}

//
//  Tablet +
//  --------------------------------------------

.media-width(@extremum, @break) when (@extremum = 'min') and (@break = @screen__m) {
    .banner-store-locator {
        margin-bottom: @indent__base;
        min-height: 238px;

        .pagebuilder-column-line {
            gap: @indent__base;
        }

        .banner-store-locator__img {
            min-height: 238px;
            box-shadow: inset -20px 0px 20px 6px @color-beige-dark;
        }

        .banner-store-locator__title {
            margin: 0;
            margin-left: 100px;
            .lib-font-size(36);
        }
    }

    .amlocator-main-container {
        & {
            margin: 80px 70px @indent__l 70px;
        }
    }

    .amlocator-main-container .amlocator-search-container {
        & {
            width: 33%;
        }

        .amlocator-block {
            margin-bottom: 0;
            text-align: center;
            margin-bottom: 5px;
        }

        .amlocator-button.-nearby {
            color: #1979c3;
            background: @primary-white;
            margin-top: 10px;
            width: 100%;
            margin-left: auto;
        }

        .amlocator-button.-nearby:hover,
        .amlocator-button.-nearby:focus {
            color: @primary-white;
            background: #1979c3;
        }

        .amlocator-block.-separator {
            display: none;
        }
    }

    .amlocator-main-container .amlocator-map-container {
        & {
            height: 100vh;
            max-height: 800px;
        }

        .amlocator-block.-filter {
            width: 33%;
        }

        .amlocator-block.-map {
            width: 60%;
            height: 100%;
            max-height: 800px;
            padding-left: @indent__m;
        }

        .amlocator-block.-storelist {
            order: inherit;
            width: 40%;
        }

        .amlocator-map {
            height: 100%;
            margin: 0;
            margin-bottom: @indent__l;
        }

        //overwrite gmaps close infoWindow button
        .amlocator-map button {
            top: 0 !important;
            right: 0 !important;
        }
    }

    .amlocator-main-container .amlocator-store-list .amlocator-wrapper {
        max-height: inherit;
    }

    .amlocator-main-container .amlocator-filters-container .amlocator-content {
        display: block;
    }

    .amlocator-main-container .amlocator-filters-container .amlocator-hidden-filter {
        display: none;
    }
}

//
//  Desktop +
//  --------------------------------------------

.media-width(@extremum, @break) when (@extremum = 'min') and (@break = @screen__xl) {
    .amlocator-schedule-table .amlocator-cell.-time {
        padding-right: 7%;
        text-align: right;
    }
}
